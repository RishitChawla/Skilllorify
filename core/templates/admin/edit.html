{% extends "admin/layout.html" %}

{% block title %}Manage Certifications - Admin Dashboard{% endblock %}

{% block extra_css %}
<style>
    .admin-header {
        background: var(--primary-gradient);
        color: var(--white);
        padding: var(--spacing-6) 0;
        border-radius: 0 0 var(--border-radius-xl) var(--border-radius-xl);
        box-shadow: var(--shadow-lg);
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--spacing-5);
        margin-bottom: var(--spacing-6);
    }
    
    .stat-card {
        background-color: var(--white);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-4);
        box-shadow: var(--shadow-md);
        transition: transform var(--transition), box-shadow var(--transition);
    }
    
    .stat-card:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-lg);
    }
    
    .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: var(--spacing-1);
    }
    
    .stat-label {
        color: var(--gray);
        font-size: var(--font-size-sm);
    }
    
    .admin-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-5);
    }
    
    .search-filter-container {
        display: flex;
        gap: var(--spacing-3);
        margin-bottom: var(--spacing-5);
    }
    
    .search-container {
        position: relative;
        flex-grow: 1;
    }
    
    .search-container input {
        padding-left: 40px;
    }
    
    .search-icon {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray);
    }
    
    .filter-container {
        display: flex;
        gap: var(--spacing-3);
    }
    
    .certifications-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background-color: var(--white);
        border-radius: var(--border-radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-md);
    }
    
    .certifications-table th,
    .certifications-table td {
        padding: var(--spacing-3) var(--spacing-4);
        text-align: left;
    }
    
    .certifications-table th {
        background-color: var(--light);
        font-weight: 600;
        color: var(--gray-dark);
        position: relative;
        cursor: pointer;
    }
    
    .certifications-table th:hover {
        background-color: var(--gray-light);
    }
    
    .certifications-table th.sorted-asc::after,
    .certifications-table th.sorted-desc::after {
        content: "";
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        width: 0;
        height: 0;
    }
    
    .certifications-table th.sorted-asc::after {
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-bottom: 5px solid var(--gray-dark);
    }
    
    .certifications-table th.sorted-desc::after {
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 5px solid var(--gray-dark);
    }
    
    .certifications-table tbody tr {
        border-bottom: 1px solid var(--gray-light);
        transition: background-color var(--transition);
    }
    
    .certifications-table tbody tr:last-child {
        border-bottom: none;
    }
    
    .certifications-table tbody tr:hover {
        background-color: rgba(99, 102, 241, 0.05);
    }
    
    .certification-title {
        font-weight: 600;
        color: var(--dark);
        display: flex;
        align-items: center;
        gap: var(--spacing-3);
    }
    
    .certification-image {
        width: 50px;
        height: 50px;
        border-radius: var(--border-radius);
        object-fit: cover;
    }
    
    .certification-status {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        padding: 4px 8px;
        border-radius: var(--border-radius-full);
        font-size: var(--font-size-xs);
        font-weight: 600;
    }
    
    .status-active {
        background-color: rgba(16, 185, 129, 0.1);
        color: var(--success);
    }
    
    .status-inactive {
        background-color: rgba(239, 68, 68, 0.1);
        color: var(--danger);
    }
    
    .status-draft {
        background-color: rgba(245, 158, 11, 0.1);
        color: var(--warning);
    }
    
    .action-buttons {
        display: flex;
        gap: var(--spacing-2);
    }
    
    .btn-icon {
        width: 36px;
        height: 36px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--border-radius);
        transition: all var(--transition);
    }
    
    .btn-edit {
        background-color: rgba(59, 130, 246, 0.1);
        color: var(--info);
    }
    
    .btn-edit:hover {
        background-color: var(--info);
        color: var(--white);
    }
    
    .btn-delete {
        background-color: rgba(239, 68, 68, 0.1);
        color: var(--danger);
    }
    
    .btn-delete:hover {
        background-color: var(--danger);
        color: var(--white);
    }
    
    .btn-view {
        background-color: rgba(16, 185, 129, 0.1);
        color: var(--success);
    }
    
    .btn-view:hover {
        background-color: var(--success);
        color: var(--white);
    }
    
    .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: var(--spacing-6);
        gap: var(--spacing-1);
    }
    
    .pagination-item {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border-radius: var(--border-radius);
        font-weight: 600;
        transition: all var(--transition);
        cursor: pointer;
    }
    
    .pagination-item:hover {
        background-color: var(--gray-light);
    }
    
    .pagination-item.active {
        background-color: var(--primary);
        color: var(--white);
    }
    
    .pagination-item.disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    /* Modal Styles */
    .modal-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity var(--transition), visibility var(--transition);
    }
    
    .modal-backdrop.active {
        opacity: 1;
        visibility: visible;
    }
    
    .modal {
        background-color: var(--white);
        border-radius: var(--border-radius-lg);
        width: 90%;
        max-width: 800px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: var(--shadow-xl);
        transform: translateY(20px);
        transition: transform var(--transition);
    }
    
    .modal-backdrop.active .modal {
        transform: translateY(0);
    }
    
    .modal-header {
        padding: var(--spacing-4) var(--spacing-6);
        border-bottom: 1px solid var(--gray-light);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .modal-title {
        font-size: var(--font-size-xl);
        font-weight: 600;
        color: var(--dark);
    }
    
    .modal-close {
        background: none;
        border: none;
        cursor: pointer;
        color: var(--gray);
        font-size: 1.5rem;
        transition: color var(--transition);
    }
    
    .modal-close:hover {
        color: var(--danger);
    }
    
    .modal-body {
        padding: var(--spacing-6);
    }
    
    .modal-footer {
        padding: var(--spacing-4) var(--spacing-6);
        border-top: 1px solid var(--gray-light);
        display: flex;
        justify-content: flex-end;
        gap: var(--spacing-3);
    }
    
    .form-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-5);
    }
    
    .form-group.full-width {
        grid-column: span 2;
    }
    
    .image-preview {
        width: 100%;
        height: 200px;
        border-radius: var(--border-radius);
        background-color: var(--gray-light);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        margin-bottom: var(--spacing-3);
    }
    
    .image-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .curriculum-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-3);
        margin-bottom: var(--spacing-3);
        padding: var(--spacing-3);
        border: 1px solid var(--gray-light);
        border-radius: var(--border-radius);
    }
    
    .curriculum-item-drag {
        cursor: move;
        color: var(--gray);
    }
    
    .curriculum-item-content {
        flex-grow: 1;
    }
    
    .curriculum-item-actions {
        display: flex;
        gap: var(--spacing-2);
    }
    
    .empty-state {
        text-align: center;
        padding: var(--spacing-10);
        color: var(--gray);
    }
    
    .empty-state-icon {
        font-size: 3rem;
        margin-bottom: var(--spacing-4);
        color: var(--gray-light);
    }
    
    .confirmation-dialog {
        text-align: center;
        padding: var(--spacing-6);
    }
    
    .confirmation-dialog-icon {
        font-size: 3rem;
        color: var(--danger);
        margin-bottom: var(--spacing-4);
    }
    
    .confirmation-dialog-title {
        font-size: var(--font-size-xl);
        font-weight: 600;
        margin-bottom: var(--spacing-3);
    }
    
    .confirmation-dialog-text {
        margin-bottom: var(--spacing-6);
        color: var(--gray);
    }
    
    @media (max-width: 768px) {
        .form-grid {
            grid-template-columns: 1fr;
        }
        
        .form-group.full-width {
            grid-column: span 1;
        }
        
        .search-filter-container {
            flex-direction: column;
        }
        
        .filter-container {
            flex-wrap: wrap;
        }
        
        .certifications-table {
            display: block;
            overflow-x: auto;
        }
    }
</style>
{% endblock %}

{% block content %}
<section class="admin-header">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1 class="animate-slide-up mb-2">Certification Management</h1>
                <p class="animate-slide-up delay-100">Create, edit and manage your certification offerings</p>
            </div>
        </div>
    </div>
</section>

<section class="admin-dashboard py-10">
    <div class="container">
        <!-- Stats Overview -->
        <div class="stats-grid animate-on-scroll">
            <div class="stat-card">
                <div class="stat-value">24</div>
                <div class="stat-label">Total Certifications</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">18</div>
                <div class="stat-label">Active Certifications</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">3</div>
                <div class="stat-label">Draft Certifications</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">3,245</div>
                <div class="stat-label">Total Enrollments</div>
            </div>
        </div>
        
        <!-- Admin Actions -->
        <div class="admin-actions animate-on-scroll">
            <h2>All Certifications</h2>
            <button id="add-certification-btn" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                Add New Certification
            </button>
        </div>
        
        <!-- Search and Filters -->
        <div class="search-filter-container animate-on-scroll">
            <div class="search-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" class="form-control" placeholder="Search certifications...">
            </div>
            <div class="filter-container">
                <select class="form-control">
                    <option value="">All Categories</option>
                    <option value="web-development">Web Development</option>
                    <option value="data-science">Data Science</option>
                    <option value="mobile-development">Mobile Development</option>
                    <option value="cloud-computing">Cloud Computing</option>
                    <option value="cybersecurity">Cybersecurity</option>
                </select>
                <select class="form-control">
                    <option value="">All Status</option>
                    <option value="active">Active</option>
                    <option value="inactive">Inactive</option>
                    <option value="draft">Draft</option>
                </select>
            </div>
        </div>
        
        <!-- Certifications Table -->
        <div class="table-responsive animate-on-scroll">
            <table class="certifications-table">
                <thead>
                    <tr>
                        <th class="sorted-asc">Certification</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th>Duration</th>
                        <th>Enrollments</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="certification-title">
                                <img src="/static/images/cert-web.jpg" alt="Web Development" class="certification-image">
                                <span>Web Development Fundamentals</span>
                            </div>
                        </td>
                        <td>Web Development</td>
                        <td>$99.99</td>
                        <td>180 min</td>
                        <td>1,245</td>
                        <td>
                            <span class="certification-status status-active">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                                Active
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-icon btn-view" title="View">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-edit edit-certification-btn" data-id="1" title="Edit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-delete delete-certification-btn" data-id="1" title="Delete">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="certification-title">
                                <img src="/static/images/cert-js.jpg" alt="JavaScript" class="certification-image">
                                <span>JavaScript Fundamentals</span>
                            </div>
                        </td>
                        <td>Web Development</td>
                        <td>$89.99</td>
                        <td>150 min</td>
                        <td>987</td>
                        <td>
                            <span class="certification-status status-active">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                                Active
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-icon btn-view" title="View">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-edit edit-certification-btn" data-id="2" title="Edit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-delete delete-certification-btn" data-id="2" title="Delete">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="certification-title">
                                <img src="/static/images/cert-react.jpg" alt="React" class="certification-image">
                                <span>React Development</span>
                            </div>
                        </td>
                        <td>Web Development</td>
                        <td>$129.99</td>
                        <td>210 min</td>
                        <td>543</td>
                        <td>
                            <span class="certification-status status-active">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                                Active
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-icon btn-view" title="View">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-edit edit-certification-btn" data-id="3" title="Edit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-delete delete-certification-btn" data-id="3" title="Delete">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="certification-title">
                                <img src="/static/images/cert-node.jpg" alt="Node.js" class="certification-image">
                                <span>Node.js Development</span>
                            </div>
                        </td>
                        <td>Web Development</td>
                        <td>$119.99</td>
                        <td>180 min</td>
                        <td>321</td>
                        <td>
                            <span class="certification-status status-inactive">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>
                                Inactive
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-icon btn-view" title="View">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-edit edit-certification-btn" data-id="4" title="Edit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-delete delete-certification-btn" data-id="4" title="Delete">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="certification-title">
                                <img src="/static/images/cert-python.jpg" alt="Python" class="certification-image">
                                <span>Python for Data Science</span>
                            </div>
                        </td>
                        <td>Data Science</td>
                        <td>$149.99</td>
                        <td>240 min</td>
                        <td>149</td>
                        <td>
                            <span class="certification-status status-draft">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                                Draft
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-icon btn-view" title="View">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-edit edit-certification-btn" data-id="5" title="Edit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                </button>
                                <button class="btn-icon btn-delete delete-certification-btn" data-id="5" title="Delete">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        <line x1="10" y1="11" x2="10" y2="17"></line>
                                        <line x1="14" y1="11" x2="14" y2="17"></line>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Pagination -->
        <div class="pagination animate-on-scroll">
            <div class="pagination-item disabled">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </div>
            <div class="pagination-item active">1</div>
            <div class="pagination-item">2</div>
            <div class="pagination-item">3</div>
            <div class="pagination-item">4</div>
            <div class="pagination-item">5</div>
            <div class="pagination-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </div>
        </div>
    </div>
</section>

<!-- Add/Edit Certification Modal -->
<div id="certification-modal" class="modal-backdrop">
    <div class="modal">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">Add New Certification</h3>
            <button class="modal-close" id="close-modal">Ã—</button>
        </div>
        <div class="modal-body">
            <form id="certification-form">
                <input type="hidden" id="certification-id" value="">
                
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="certification-title" class="form-label">Certification Title</label>
                        <input type="text" id="certification-title" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-category" class="form-label">Category</label>
                        <select id="certification-category" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="web-development">Web Development</option>
                            <option value="data-science">Data Science</option>
                            <option value="mobile-development">Mobile Development</option>
                            <option value="cloud-computing">Cloud Computing</option>
                            <option value="cybersecurity">Cybersecurity</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-difficulty" class="form-label">Difficulty Level</label>
                        <select id="certification-difficulty" class="form-control" required>
                            <option value="">Select Difficulty</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                            <option value="expert">Expert</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-price" class="form-label">Price ($)</label>
                        <input type="number" id="certification-price" class="form-control" min="0" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-duration" class="form-label">Duration (minutes)</label>
                        <input type="number" id="certification-duration" class="form-control" min="0" required>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="certification-description" class="form-label">Short Description</label>
                        <textarea id="certification-description" class="form-control" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="certification-image" class="form-label">Featured Image</label>
                        <div class="image-preview" id="image-preview">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                <polyline points="21 15 16 10 5 21"></polyline>
                            </svg>
                        </div>
                        <input type="file" id="certification-image" class="form-control" accept="image/*">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="certification-full-description" class="form-label">Full Description</label>
                        <textarea id="certification-full-description" class="form-control" rows="5" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-prerequisites" class="form-label">Prerequisites</label>
                        <textarea id="certification-prerequisites" class="form-control" rows="3"></textarea>
                        <small class="form-text">Enter each prerequisite on a new line</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-learning-objectives" class="form-label">Learning Objectives</label>
                        <textarea id="certification-learning-objectives" class="form-control" rows="3"></textarea>
                        <small class="form-text">Enter each objective on a new line</small>
                    </div>
                    
                    <div class="form-group full-width">
                        <label class="form-label">Curriculum</label>
                        <div id="curriculum-items">
                            <div class="curriculum-item">
                                <div class="curriculum-item-drag">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="21" y1="10" x2="3" y2="10"></line>
                                        <line x1="21" y1="6" x2="3" y2="6"></line>
                                        <line x1="21" y1="14" x2="3" y2="14"></line>
                                        <line x1="21" y1="18" x2="3" y2="18"></line>
                                    </svg>
                                </div>
                                <div class="curriculum-item-content">
                                    <input type="text" class="form-control" placeholder="Module Title" required>
                                </div>
                                <div class="curriculum-item-actions">
                                    <button type="button" class="btn-icon btn-delete remove-curriculum-item">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button type="button" id="add-curriculum-item" class="btn btn-outline mt-3">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Module
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="certification-status" class="form-label">Status</label>
                        <select id="certification-status" class="form-control" required>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                            <option value="draft">Draft</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline" id="cancel-certification">Cancel</button>
            <button type="button" class="btn btn-primary" id="save-certification">Save Certification</button>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="delete-modal" class="modal-backdrop">
    <div class="modal" style="max-width: 500px;">
        <div class="confirmation-dialog">
            <div class="confirmation-dialog-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    <line x1="10" y1="11" x2="10" y2="17"></line>
                    <line x1="14" y1="11" x2="14" y2="17"></line>
                </svg>
            </div>
            <h3 class="confirmation-dialog-title">Delete Certification</h3>
            <p class="confirmation-dialog-text">Are you sure you want to delete this certification? This action cannot be undone.</p>
            <div class="d-flex justify-content-center gap-3">
                <button type="button" class="btn btn-outline" id="cancel-delete">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Modal functionality
        const certificationModal = document.getElementById('certification-modal');
        const deleteModal = document.getElementById('delete-modal');
        const addCertificationBtn = document.getElementById('add-certification-btn');
        const closeModalBtn = document.getElementById('close-modal');
        const cancelCertificationBtn = document.getElementById('cancel-certification');
        const saveCertificationBtn = document.getElementById('save-certification');
        const cancelDeleteBtn = document.getElementById('cancel-delete');
        const confirmDeleteBtn = document.getElementById('confirm-delete');
        const editCertificationBtns = document.querySelectorAll('.edit-certification-btn');
        const deleteCertificationBtns = document.querySelectorAll('.delete-certification-btn');
        const addCurriculumItemBtn = document.getElementById('add-curriculum-item');
        const curriculumItems = document.getElementById('curriculum-items');
        const modalTitle = document.getElementById('modal-title');
        const certificationForm = document.getElementById('certification-form');
        const certificationIdInput = document.getElementById('certification-id');
        
        // Open add certification modal
        addCertificationBtn.addEventListener('click', function() {
            modalTitle.textContent = 'Add New Certification';
            certificationIdInput.value = '';
            certificationForm.reset();
            certificationModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
        
        // Close certification modal
        function closeCertificationModal() {
            certificationModal.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        closeModalBtn.addEventListener('click', closeCertificationModal);
        cancelCertificationBtn.addEventListener('click', closeCertificationModal);
        
        // Close modal when clicking outside
        certificationModal.addEventListener('click', function(e) {
            if (e.target === certificationModal) {
                closeCertificationModal();
            }
        });
        
        // Open edit certification modal
        editCertificationBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const certificationId = this.getAttribute('data-id');
                modalTitle.textContent = 'Edit Certification';
                certificationIdInput.value = certificationId;
                
                // In a real application, you would fetch the certification data
                // For demo purposes, we'll just populate with dummy data
                document.getElementById('certification-title').value = 'Web Development Fundamentals';
                document.getElementById('certification-category').value = 'web-development';
                document.getElementById('certification-difficulty').value = 'beginner';
                document.getElementById('certification-price').value = '99.99';
                document.getElementById('certification-duration').value = '180';
                document.getElementById('certification-description').value = 'Learn the fundamentals of web development including HTML, CSS, and JavaScript.';
                document.getElementById('certification-full-description').value = 'This comprehensive certification covers all aspects of modern web development. You will learn how to create responsive websites, implement interactive features, and optimize for performance.';
                document.getElementById('certification-prerequisites').value = 'Basic computer skills\nFamiliarity with internet browsing';
                document.getElementById('certification-learning-objectives').value = 'Build responsive websites from scratch\nImplement interactive features with JavaScript\nUnderstand web development best practices';
                document.getElementById('certification-status').value = 'active';
                
                certificationModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });
        
        // Open delete confirmation modal
        deleteCertificationBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const certificationId = this.getAttribute('data-id');
                // Store the ID for later use
                confirmDeleteBtn.setAttribute('data-id', certificationId);
                deleteModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });
        
        // Close delete modal
        function closeDeleteModal() {
            deleteModal.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        cancelDeleteBtn.addEventListener('click', closeDeleteModal);
        
        // Close modal when clicking outside
        deleteModal.addEventListener('click', function(e) {
            if (e.target === deleteModal) {
                closeDeleteModal();
            }
        });
        
        // Confirm delete
        confirmDeleteBtn.addEventListener('click', function() {
            const certificationId = this.getAttribute('data-id');
            
            // In a real application, you would send a delete request to the server
            // For demo purposes, we'll just show a success message
            
            // Find the row with the matching ID and remove it
            const row = document.querySelector(`.delete-certification-btn[data-id="${certificationId}"]`).closest('tr');
            row.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
            row.style.transition = 'opacity 0.5s';
            
            setTimeout(() => {
                row.style.opacity = '0';
                setTimeout(() => {
                    row.remove();
                    
                    // Update stats
                    const totalCertificationsElement = document.querySelector('.stats-grid .stat-card:nth-child(1) .stat-value');
                    const activeCertificationsElement = document.querySelector('.stats-grid .stat-card:nth-child(2) .stat-value');
                    
                    totalCertificationsElement.textContent = (parseInt(totalCertificationsElement.textContent) - 1).toString();
                    activeCertificationsElement.textContent = (parseInt(activeCertificationsElement.textContent) - 1).toString();
                    
                    // Show success message
                    const alert = document.createElement('div');
                    alert.className = 'alert alert-success animate-fade-in';
                    alert.innerHTML = 'Certification successfully deleted!';
                    
                    const container = document.querySelector('.container');
                    container.insertBefore(alert, container.firstChild);
                    
                    setTimeout(() => {
                        alert.style.opacity = '0';
                        setTimeout(() => {
                            alert.remove();
                        }, 300);
                    }, 3000);
                }, 300);
            }, 300);
            
            closeDeleteModal();
        });
        
        // Add curriculum item
        addCurriculumItemBtn.addEventListener('click', function() {
            const newItem = document.createElement('div');
            newItem.className = 'curriculum-item';
            newItem.innerHTML = `
                <div class="curriculum-item-drag">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="21" y1="10" x2="3" y2="10"></line>
                        <line x1="21" y1="6" x2="3" y2="6"></line>
                        <line x1="21" y1="14" x2="3" y2="14"></line>
                        <line x1="21" y1="18" x2="3" y2="18"></line>
                    </svg>
                </div>
                <div class="curriculum-item-content">
                    <input type="text" class="form-control" placeholder="Module Title" required>
                </div>
                <div class="curriculum-item-actions">
                    <button type="button" class="btn-icon btn-delete remove-curriculum-item">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            curriculumItems.appendChild(newItem);
            
            // Add event listener to the new remove button
            const removeBtn = newItem.querySelector('.remove-curriculum-item');
            removeBtn.addEventListener('click', function() {
                newItem.remove();
            });
        });
        
        // Remove curriculum item
        document.addEventListener('click', function(e) {
            if (e.target.closest('.remove-curriculum-item')) {
                const item = e.target.closest('.curriculum-item');
                item.remove();
            }
        });
        
        // Save certification
        saveCertificationBtn.addEventListener('click', function() {
            // Check form validity
            const form = document.getElementById('certification-form');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // In a real application, you would send the form data to the server
            // For demo purposes, we'll just show a success message
            
            const isEdit = certificationIdInput.value !== '';
            const successMessage = isEdit ? 'Certification successfully updated!' : 'New certification successfully added!';
            
            closeCertificationModal();
            
            // Show success message
            const alert = document.createElement('div');
            alert.className = 'alert alert-success animate-fade-in';
            alert.innerHTML = successMessage;
            
            const container = document.querySelector('.container');
            container.insertBefore(alert, container.firstChild);
            
            setTimeout(() => {
                alert.style.opacity = '0';
                setTimeout(() => {
                    alert.remove();
                }, 300);
            }, 3000);
            
            // If it's a new certification, add it to the table
            if (!isEdit) {
                const title = document.getElementById('certification-title').value;
                const category = document.getElementById('certification-category').options[document.getElementById('certification-category').selectedIndex].text;
                const price = document.getElementById('certification-price').value;
                const duration = document.getElementById('certification-duration').value;
                const status = document.getElementById('certification-status').value;
                
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td>
                        <div class="certification-title">
                            <img src="/static/images/cert-default.jpg" alt="${title}" class="certification-image">
                            <span>${title}</span>
                        </div>
                    </td>
                    <td>${category}</td>
                    <td>$${price}</td>
                    <td>${duration} min</td>
                    <td>0</td>
                    <td>
                        <span class="certification-status status-${status}">
                            ${status === 'active' ? `
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            ` : status === 'inactive' ? `
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>
                            ` : `
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9  y1="17" x2="8" y2="17"></line>
                                    <polyline points="10 9 9 9 8 9"></polyline>
                                </svg>
                            `}
                            ${status.charAt(0).toUpperCase() + status.slice(1)}
                        </span>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-view" title="View">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                            <button class="btn-icon btn-edit edit-certification-btn" data-id="new" title="Edit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                            </button>
                            <button class="btn-icon btn-delete delete-certification-btn" data-id="new" title="Delete">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                            </button>
                        </div>
                    </td>
                `;
                
                const tbody = document.querySelector('.certifications-table tbody');
                tbody.insertBefore(newRow, tbody.firstChild);
                
                // Update stats
                const totalCertificationsElement = document.querySelector('.stats-grid .stat-card:nth-child(1) .stat-value');
                totalCertificationsElement.textContent = (parseInt(totalCertificationsElement.textContent) + 1).toString();
                
                if (status === 'active') {
                    const activeCertificationsElement = document.querySelector('.stats-grid .stat-card:nth-child(2) .stat-value');
                    activeCertificationsElement.textContent = (parseInt(activeCertificationsElement.textContent) + 1).toString();
                } else if (status === 'draft') {
                    const draftCertificationsElement = document.querySelector('.stats-grid .stat-card:nth-child(3) .stat-value');
                    draftCertificationsElement.textContent = (parseInt(draftCertificationsElement.textContent) + 1).toString();
                }
                
                // Add event listeners to the new buttons
                const newEditBtn = newRow.querySelector('.edit-certification-btn');
                const newDeleteBtn = newRow.querySelector('.delete-certification-btn');
                
                newEditBtn.addEventListener('click', function() {
                    modalTitle.textContent = 'Edit Certification';
                    certificationIdInput.value = this.getAttribute('data-id');
                    
                    // Populate form with the new certification data
                    document.getElementById('certification-title').value = title;
                    document.getElementById('certification-category').value = document.getElementById('certification-category').value;
                    document.getElementById('certification-difficulty').value = document.getElementById('certification-difficulty').value;
                    document.getElementById('certification-price').value = price;
                    document.getElementById('certification-duration').value = duration;
                    document.getElementById('certification-status').value = status;
                    
                    certificationModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
                
                newDeleteBtn.addEventListener('click', function() {
                    confirmDeleteBtn.setAttribute('data-id', this.getAttribute('data-id'));
                    deleteModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            }
        });
        
        // Image preview functionality
        const imageInput = document.getElementById('certification-image');
        const imagePreview = document.getElementById('image-preview');
        
        imageInput.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imagePreview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Table sorting functionality
        const tableHeaders = document.querySelectorAll('.certifications-table th');
        
        tableHeaders.forEach(header => {
            header.addEventListener('click', function() {
                // Remove sorted classes from all headers
                tableHeaders.forEach(h => {
                    h.classList.remove('sorted-asc', 'sorted-desc');
                });
                
                // Add sorted class to clicked header
                if (this.classList.contains('sorted-asc')) {
                    this.classList.remove('sorted-asc');
                    this.classList.add('sorted-desc');
                } else {
                    this.classList.remove('sorted-desc');
                    this.classList.add('sorted-asc');
                }
                
                // In a real application, you would sort the table data here
            });
        });
        
        // Search functionality
        const searchInput = document.querySelector('.search-container input');
        
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const rows = document.querySelectorAll('.certifications-table tbody tr');
            
            rows.forEach(row => {
                const title = row.querySelector('.certification-title span').textContent.toLowerCase();
                const category = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || category.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });
        
        // Filter functionality
        const filterSelects = document.querySelectorAll('.filter-container select');
        
        filterSelects.forEach(select => {
            select.addEventListener('change', function() {
                const categoryFilter = document.querySelector('.filter-container select:nth-child(1)').value;
                const statusFilter = document.querySelector('.filter-container select:nth-child(2)').value;
                const rows = document.querySelectorAll('.certifications-table tbody tr');
                
                rows.forEach(row => {
                    const category = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
                    const statusElement = row.querySelector('.certification-status');
                    const status = statusElement ? statusElement.textContent.trim().toLowerCase() : '';
                    
                    const categoryMatch = !categoryFilter || category.toLowerCase() === categoryFilter.toLowerCase();
                    const statusMatch = !statusFilter || status.includes(statusFilter.toLowerCase());
                    
                    if (categoryMatch && statusMatch) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
        });
        
        // Pagination functionality
        const paginationItems = document.querySelectorAll('.pagination-item');
        
        paginationItems.forEach(item => {
            if (!item.classList.contains('disabled')) {
                item.addEventListener('click', function() {
                    // Remove active class from all pagination items
                    paginationItems.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked pagination item
                    this.classList.add('active');
                    
                    // In a real application, you would fetch the corresponding page data
                });
            }
        });
    });
</script>
{% endblock %}
